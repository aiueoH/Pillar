package com.pillar;

import java.util.ArrayList;

import org.andengine.engine.handler.timer.TimerHandler;
import org.andengine.entity.Entity;
import org.andengine.entity.primitive.Line;
import org.andengine.entity.primitive.Rectangle;
import org.andengine.opengl.vbo.VertexBufferObjectManager;
import org.andengine.util.color.Color;

import android.R.integer;

public class BarTimer implements IEnitySet{

	private TimerHandler timerHandler;
	
	private Line[] borderLines = new Line[4];
	private Rectangle bar;
	
	private float x, y, width, height;
	
	public BarTimer(float x, float y, float width, float height, float boderWidth, 
			Color barColor, Color borderColor, 
			VertexBufferObjectManager vertexBufferObjectManager) {
		this.x = x;
		this.y = y;
		this.width = width;
		this.height = height;
		this.bar = new Rectangle(x, y, width, height, vertexBufferObjectManager);
		this.bar.setColor(barColor);
		this.borderLines[0] = new Line(x, y, x + width, y, vertexBufferObjectManager);
		this.borderLines[1] = new Line(x + width, y, x + width, y + height, vertexBufferObjectManager);
		this.borderLines[2] = new Line(x + width, y + height, x + width, y, vertexBufferObjectManager);
		this.borderLines[3] = new Line(x, y + height, x, y, vertexBufferObjectManager);
		for (Line line : this.borderLines)
			line.setColor(borderColor);
	}
	
	public void setPercent(float n) {
		this.bar.setY(this.x + (1f - n) * this.height);
		this.bar.setHeight(n * this.height);
	}

	@Override
	public ArrayList<Entity> getEntitys() {
		ArrayList<Entity> es = new ArrayList<Entity>();
		es.add(bar);
	
		return null;
	}

}
